import{u as x,r as u,j as e,R as O,_ as f,a as b,l as L,b as P,c as p,I as D,d as R,B as M}from"./B4EgHYKZ-1714033395358.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&d(o)}).observe(document,{childList:!0,subtree:!0});function l(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(t){if(t.ep)return;t.ep=!0;const s=l(t);fetch(t.href,s)}})();var H={VITE_APP_REACT_URL:"http://192.168.31.80:3939/api/v1",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_REACT_URL:g}=H,$=(n,a)=>{localStorage.setItem(n,JSON.stringify(a))},S=n=>{const a=localStorage.getItem(n);return a===null?null:JSON.parse(a)},U=n=>{const{modal:a,setModal:l}=n,d=x(),[t,s]=u.useState(!1),[o,c]=u.useState({fe:"",be:""}),i=()=>{if(o.fe==="")return f.error("Nama Branch Fe Harus Diisi"),!1;if(o.be==="")return f.error("Nama Branch Be Harus Diisi"),!1;const m=`?id=${a.title}&namaBranchFe=${o.fe}&namaBranchBe=${o.be}`;d(`/detail${m}`)};return e.jsx(O.Fragment,{children:e.jsxs("div",{className:`fixed inset-0 z-50 overflow-auto bg-gray-500 bg-opacity-75 flex justify-center items-center ${a.isOpen?"":"hidden"}`,children:[e.jsxs("div",{className:"relative max-w-md p-8 m-4 bg-white rounded-md w-80",children:[e.jsxs("div",{className:"mb-4 text-xl font-bold",children:["Apakah anda yakin ingin update ",a.title," ?"]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:()=>l({title:"",isOpen:!1,is_branch_avail:!1}),className:"px-4 py-2 mr-2 font-bold text-white bg-[#ee6e6e] rounded hover:bg-[#a53636]",children:"No"}),e.jsx("button",{onClick:()=>{a.is_branch_avail?s(!0):d("/detail?id="+a.title)},className:"px-4 py-2 font-bold text-white bg-[#78b7f1] rounded hover:bg-[#178DF9]",children:"Yes"})]})]}),e.jsx("button",{onClick:()=>{l({title:"",isOpen:!1,is_branch_avail:!1})},className:"absolute top-0 right-0 p-2",children:e.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),t&&e.jsx("div",{className:`fixed inset-0 z-50 overflow-auto bg-gray-500 bg-opacity-75 flex justify-center items-center ${t?"":"hidden"}`,children:e.jsxs("div",{className:"flex flex-col gap-4 p-8 m-4 bg-white rounded-md w-80",children:[e.jsx("div",{className:"mb-4 text-xl font-bold",children:"Masukan Nama Branch"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"Branch Fe"}),e.jsx("input",{placeholder:"Masukan Nama Branch Fe",value:o.fe,onChange:m=>c({...o,fe:m.target.value}),className:"flex w-full p-2 rounded outline-none outline-slate-400"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"Branch Be"}),e.jsx("input",{placeholder:"Masukan Nama Branch Be",value:o.be,onChange:m=>c({...o,be:m.target.value}),className:"flex w-full p-2 rounded outline-none outline-slate-400"})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 mr-2 font-bold text-white bg-[#ee6e6e] rounded hover:bg-[#a53636]",children:"No"}),e.jsx("button",{onClick:()=>i(),className:"px-4 py-2 font-bold text-white bg-[#78b7f1] rounded hover:bg-[#178DF9]",children:"Yes"})]})]})})]})})},z="/assets/images/qILC5JLC-1714033395358.png",G="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.2%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23ffffff'%20d='M495.9%20166.6c3.2%208.7%20.5%2018.4-6.4%2024.6l-43.3%2039.4c1.1%208.3%201.7%2016.8%201.7%2025.4s-.6%2017.1-1.7%2025.4l43.3%2039.4c6.9%206.2%209.6%2015.9%206.4%2024.6c-4.4%2011.9-9.7%2023.3-15.8%2034.3l-4.7%208.1c-6.6%2011-14%2021.4-22.1%2031.2c-5.9%207.2-15.7%209.6-24.5%206.8l-55.7-17.7c-13.4%2010.3-28.2%2018.9-44%2025.4l-12.5%2057.1c-2%209.1-9%2016.3-18.2%2017.8c-13.8%202.3-28%203.5-42.5%203.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1%20425.9c-8.8%202.8-18.6%20.3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4%206.4-24.6l43.3-39.4C64.6%20273.1%2064%20264.6%2064%20256s.6-17.1%201.7-25.4L22.4%20191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9%209.7-23.3%2015.8-34.3l4.7-8.1c6.6-11%2014-21.4%2022.1-31.2c5.9-7.2%2015.7-9.6%2024.5-6.8l55.7%2017.7c13.4-10.3%2028.2-18.9%2044-25.4l12.5-57.1c2-9.1%209-16.3%2018.2-17.8C227.3%201.2%20241.5%200%20256%200s28.7%201.2%2042.5%203.5c9.2%201.5%2016.2%208.7%2018.2%2017.8l12.5%2057.1c15.8%206.5%2030.6%2015.1%2044%2025.4l55.7-17.7c8.8-2.8%2018.6-.3%2024.5%206.8c8.1%209.8%2015.5%2020.2%2022.1%2031.2l4.7%208.1c6.1%2011%2011.4%2022.4%2015.8%2034.3zM256%20336a80%2080%200%201%200%200-160%2080%2080%200%201%200%200%20160z'/%3e%3c/svg%3e",q="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20384%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.2%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23ffffff'%20d='M342.6%20150.6c12.5-12.5%2012.5-32.8%200-45.3s-32.8-12.5-45.3%200L192%20210.7%2086.6%20105.4c-12.5-12.5-32.8-12.5-45.3%200s-12.5%2032.8%200%2045.3L146.7%20256%2041.4%20361.4c-12.5%2012.5-12.5%2032.8%200%2045.3s32.8%2012.5%2045.3%200L192%20301.3%20297.4%20406.6c12.5%2012.5%2032.8%2012.5%2045.3%200s12.5-32.8%200-45.3L237.3%20256%20342.6%20150.6z'/%3e%3c/svg%3e",V="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20448%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.2%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23ffffff'%20d='M144%20144v48H304V144c0-44.2-35.8-80-80-80s-80%2035.8-80%2080zM80%20192V144C80%2064.5%20144.5%200%20224%200s144%2064.5%20144%20144v48h16c35.3%200%2064%2028.7%2064%2064V448c0%2035.3-28.7%2064-64%2064H64c-35.3%200-64-28.7-64-64V256c0-35.3%2028.7-64%2064-64H80z'/%3e%3c/svg%3e",J=()=>{u.useEffect(()=>{s()},[]);const n=x();u.useEffect(()=>{const r=S("isLogin");n(r?"/home":"/")},[n]);const[a,l]=u.useState([]),[d,t]=u.useState([]),s=async()=>{try{const r=await b.get(g+"/app");l(r.data.names),t(r.data.names)}catch(r){l([]),console.log(r)}},[o,c]=u.useState({title:"",isOpen:!1,is_branch_avail:!1}),i=r=>{c({title:r.name,isOpen:!0,is_branch_avail:r.is_branch_avail})},m=r=>{const h=new RegExp(`${r}`,"i");if(r==="")t(a);else{const _=a.filter(T=>h.test(T.name));t(_)}},[v,C]=u.useState(-1),E=r=>{C(r===v?-1:r)},F=r=>{const h=`?id=${r.name}`;n(`/log${h}`)},[N,A]=u.useState(!1),[j,I]=u.useState(!1),y=()=>{I(!j)};return e.jsxs("div",{className:"flex flex-col gap-2 p-4",children:[e.jsx("h1",{children:" List App "}),e.jsx("div",{className:"flex flex-col gap-2",children:e.jsx("input",{className:"outline-none w-full border-2 p-1 rounded-full px-4 border-gray-300  focus:border-[#178DF9]",placeholder:"Cari App",onChange:r=>m(r.target.value)})}),e.jsxs("div",{className:"fixed bottom-0 mb-4",onMouseEnter:()=>A(!0),children:[j&&e.jsx("a",{href:"https://encryptionsupport.netlify.app/",target:"_blank",onClick:y,className:"flex items-center outline-none p-3 mb-5 transition-all justify-center h-10 font-bold text-white bg-red-500 rounded-full shadow-lg mt-4",children:e.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[e.jsx("img",{src:V,className:"w-5 h-5"}),"Encryption Tools"]})}),e.jsx("button",{className:`flex items-center p-3 transition-all justify-center h-10 font-bold text-white bg-blue-500 rounded-full shadow-lg w-${N?"28":"10"} hover:bg-blue-700`,onClick:y,children:e.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[e.jsx("img",{src:j?q:G,className:"w-5 h-5"}),N&&e.jsx("p",{children:"Go"})]})})]}),e.jsx("div",{className:"flex flex-col gap-3 mt-4",children:d.map((r,h)=>e.jsxs("div",{children:[e.jsxs("div",{onClick:()=>E(h),className:"flex items-center justify-between w-full p-2 border-2 rounded cursor-pointer",children:[e.jsx("p",{children:r.name}),v===h?e.jsx("i",{className:"fa-solid fa-circle-chevron-down text-[#141E46]"}):e.jsx("i",{className:"fa-solid fa-circle-chevron-right text-[#141E46]"})]}),v===h&&e.jsxs("div",{className:"flex gap-2 p-2 border border-gray-200 rounded h-30",children:[e.jsxs("button",{onClick:()=>i(r),className:"bg-[#141E46] w-full rounded text-white",children:[" ","Update App"]}),e.jsxs("button",{onClick:()=>F(r),className:"bg-[#304cba] w-full rounded text-white",children:[" ","Git Log"," "]}),e.jsxs("a",{href:r.link_qc,target:"_blank",className:"bg-[#41B06E] w-full rounded flex justify-center text-white",children:[" ","Link Qc"," "]})]})]},h))}),o.isOpen&&e.jsx(U,{modal:o,setModal:r=>c(r)})]})},K=()=>{const[n,a]=u.useState({username:"",password:"",loading:!1}),l=x(),d=async()=>{if(!n.username)return f.error("Username is required"),!1;if(!n.password)return f.error("Password is required"),!1;try{a({...n,loading:!0}),await f.promise(t(n),{loading:"Checking...",success:e.jsx("b",{children:"Login Success!"}),error:e.jsx("b",{children:"Username and Password wrong."})}),a({...n,loading:!1}),l("/home"),$("isLogin",!0)}catch{a({...n,loading:!1})}},t=s=>new Promise((o,c)=>{setTimeout(()=>{s.username==="nsi"&&s.password==="developer"?o(!0):c(!1)},2e3)});return u.useEffect(()=>{const s=S("isLogin");l(s?"/home":"/")},[l]),e.jsx("div",{className:"flex items-center h-full p-5 align-middle",children:e.jsxs("div",{className:"flex flex-col w-full gap-2",children:[e.jsx("div",{className:"flex justify-center mb-5",children:e.jsx("img",{src:z,className:"w-52"})}),e.jsx("input",{value:n.username,className:"outline-none border-2 p-2  focus:border-[#178DF9]",placeholder:"Please Input Username",onChange:s=>a({...n,username:s.target.value})}),e.jsx("input",{value:n.password,type:"password",className:"outline-none border-2 p-2  focus:border-[#178DF9]",placeholder:"Please Input Password",onChange:s=>a({...n,password:s.target.value})}),e.jsxs("button",{onClick:()=>d(),className:"bg-[#178DF9] w-full rounded text-white p-2 outline-none",children:[" ",n.loading?e.jsxs("div",{children:[e.jsx("i",{className:"mr-2 fa-solid fa-spinner fa-spin"}),"Checking Data"]}):"Login"]})]})})},k=u.createContext(void 0),Y=({children:n})=>{const[a,l]=u.useState(!1),[d,t]=u.useState(!1);return e.jsx(k.Provider,{value:{fullScreen:a,setFullScreen:l,isLoading:d,setIsLoading:t},children:n})},w=()=>{const n=u.useContext(k);if(!n)throw new Error("useActiveChat must be used within a HookProvider");return n},B=n=>{const{title:a}=n,l=x(),{fullScreen:d,isLoading:t,setFullScreen:s}=w();return e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 terminal-header",children:[e.jsx("div",{className:"flex items-center space-x-2",onClick:()=>{l("/home"),s(!1)},children:e.jsx("i",{className:"text-white cursor-pointer fa-solid fa-chevron-left"})}),e.jsxs("div",{className:"justify-center text-sm text-white",children:[a,t&&e.jsx("i",{className:"absolute ml-2 text-white fa-solid fa-spinner fa-spin"})]}),e.jsx("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>s(!d),children:e.jsx("i",{className:"text-white fa-solid fa-maximize"})})]})},Q=()=>{const n=new URLSearchParams(location.search),a=n.get("id")||"",l=n.get("namaBranchFe")||"",d=n.get("namaBranchBe")||"",{setIsLoading:t}=w();return u.useEffect(()=>{const s=[],o=L(g.replace("/api/v1",""));return o.connect(),o.on("connect",()=>{o.emit("join-room",a),o.on("update-progress",c=>{const i=document.getElementById("logConsole");i&&(c.status==="PROGRESS"?(s.push(c.message),i.value=s.join(`
`),i.scrollTop=i.scrollHeight+400,t(!0)):c.status==="FINISH"&&(t(!1),f.success("Update Finish"),s.push(`
`),s.push("Update Finish"),s.push(`
`),i.value=s.join(`
`),i.scrollTop=i.scrollHeight+400))})}),setTimeout(async()=>{var c,i;try{await b.post(g+"/app/update",{name:a,branchBe:d||void 0,branchFe:l||void 0})}catch(m){(c=m.response.data.message)!=null&&c.includes("processed")?(f("Sedang dalam proses update, silahkan tunggu!",{icon:"🧘🏾"}),t(!0)):(i=m.response.data.message)!=null&&i.includes("processed")?(f("Sedang dalam proses update, silahkan tunggu!",{icon:"🧘🏾"}),t(!0)):(f.error(m.response.data.message),t(!1))}},300),()=>{o.disconnect()}},[a,d,l,t]),e.jsxs("div",{className:"w-full h-full overflow-hidden border border-gray-700 rounded-lg terminal-container",children:[e.jsx(B,{title:`Terminal App ${a}`}),e.jsx("div",{className:"terminal-body",children:e.jsx("div",{className:"terminal-line",children:e.jsx("textarea",{readOnly:!0,id:"logConsole",className:"w-full h-screen p-2 overflow-y-auto text-white bg-black resize-none terminal-input focus:outline-none"})})})]})},W=()=>{const n=new URLSearchParams(location.search),a=n.get("id")||"",l=n.get("namaBranchFe")||"",d=n.get("namaBranchBe")||"",{setIsLoading:t}=w();return u.useEffect(()=>{const s=[],o=L(g.replace("/api/v1",""));return o.connect(),o.on("connect",()=>{o.emit("join-room",a),o.on("git-log",c=>{const i=document.getElementById("logGit");i&&(c.status==="PROGRESS"?(s.push(c.message),i.value=s.join(`
`),i.scrollTop=0,t(!0)):c.status==="FINISH"&&(t(!1),s.push(`
`),s.push(`
`),i.value=s.join(`
`),i.scrollTop=0))})}),setTimeout(async()=>{var c,i;try{await b.post(g+"/app/git-log",{name:a})}catch(m){(c=m.response.data.message)!=null&&c.includes("processed")?(f("Sedang dalam proses update, silahkan tunggu!",{icon:"🧘🏾"}),t(!0)):(i=m.response.data.message)!=null&&i.includes("processed")?(f("Sedang dalam proses update, silahkan tunggu!",{icon:"🧘🏾"}),t(!0)):(f.error(m.response.data.message),t(!1))}},300),()=>{o.disconnect()}},[a,d,l,t]),e.jsxs("div",{className:"w-full h-full overflow-hidden border border-gray-700 rounded-lg terminal-container",children:[e.jsx(B,{title:`Git Log App ${a}`}),e.jsx("div",{className:"terminal-body",children:e.jsx("div",{className:"terminal-line",children:e.jsx("textarea",{readOnly:!0,id:"logGit",className:"w-full h-screen p-2 overflow-y-auto text-white bg-black resize-none terminal-input focus:outline-none"})})})]})},X=()=>{const{fullScreen:n}=w(),[a,l]=u.useState(Date.now());u.useEffect(()=>{const t=setTimeout(()=>{Date.now()-a>12e5&&localStorage.clear()},1e3),s=()=>{l(Date.now())};return window.addEventListener("mousemove",s),window.addEventListener("keydown",s),()=>{clearTimeout(t),window.removeEventListener("mousemove",s),window.removeEventListener("keydown",s)}},[a]);const d=x();return e.jsxs("div",{className:"flex justify-center",children:[e.jsx("div",{className:`${n?"w-full":"xxl:w-[25rem] w-full overflow-y-auto no-scrollbar h-screen rounded-md shadow-md md:w-[60%] lg:w-1/3 xl:w-[30%]"} `,children:e.jsxs(P,{children:[e.jsx(p,{index:!0,element:e.jsx(K,{})}),e.jsx(p,{path:"home",element:e.jsx(J,{})}),e.jsx(p,{path:"detail",element:e.jsx(Q,{})}),e.jsx(p,{path:"log",element:e.jsx(W,{})}),e.jsx(p,{path:"*",element:e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen gap-2",children:["Halaman Tidak Di Teumakan ",e.jsx("br",{}),e.jsxs("button",{onClick:()=>d("/home"),className:"bg-[#41B06E] p-1 rounded text-white text-[10px]",children:[" ","Kembali"," "]})]})})]})}),e.jsx(D,{position:"bottom-center",reverseOrder:!1})]})};R.createRoot(document.getElementById("root")).render(e.jsx(M,{children:e.jsx(Y,{children:e.jsx(X,{})})}));
