import{u as v,r as d,j as e,R as T,_ as x,a as y,l as C,b as O,c as j,I as P,d as D,B as R}from"./PtcAy9Zc-1714032889432.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var M={VITE_APP_REACT_URL:"http://192.168.31.80:3939/api/v1",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_REACT_URL:b}=M,H=(s,t)=>{localStorage.setItem(s,JSON.stringify(t))},B=s=>{const t=localStorage.getItem(s);return t===null?null:JSON.parse(t)},z=s=>{const{modal:t,setModal:r}=s,u=v(),[n,a]=d.useState(!1),[l,p]=d.useState({fe:"",be:""}),m=()=>{if(l.fe==="")return x.error("Nama Branch Fe Harus Diisi"),!1;if(l.be==="")return x.error("Nama Branch Be Harus Diisi"),!1;const c=`?id=${t.title}&namaBranchFe=${l.fe}&namaBranchBe=${l.be}`;u(`/detail${c}`)};return e.jsx(T.Fragment,{children:e.jsxs("div",{className:`fixed inset-0 z-50 overflow-auto bg-gray-500 bg-opacity-75 flex justify-center items-center ${t.isOpen?"":"hidden"}`,children:[e.jsxs("div",{className:"relative max-w-md p-8 m-4 bg-white rounded-md w-80",children:[e.jsxs("div",{className:"mb-4 text-xl font-bold",children:["Apakah anda yakin ingin update ",t.title," ?"]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:()=>r({title:"",isOpen:!1,is_branch_avail:!1}),className:"px-4 py-2 mr-2 font-bold text-white bg-[#ee6e6e] rounded hover:bg-[#a53636]",children:"No"}),e.jsx("button",{onClick:()=>{t.is_branch_avail?a(!0):u("/detail?id="+t.title)},className:"px-4 py-2 font-bold text-white bg-[#78b7f1] rounded hover:bg-[#178DF9]",children:"Yes"})]})]}),e.jsx("button",{onClick:()=>{r({title:"",isOpen:!1,is_branch_avail:!1})},className:"absolute top-0 right-0 p-2",children:e.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),n&&e.jsx("div",{className:`fixed inset-0 z-50 overflow-auto bg-gray-500 bg-opacity-75 flex justify-center items-center ${n?"":"hidden"}`,children:e.jsxs("div",{className:"flex flex-col gap-4 p-8 m-4 bg-white rounded-md w-80",children:[e.jsx("div",{className:"mb-4 text-xl font-bold",children:"Masukan Nama Branch"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"Branch Fe"}),e.jsx("input",{placeholder:"Masukan Nama Branch Fe",value:l.fe,onChange:c=>p({...l,fe:c.target.value}),className:"flex w-full p-2 rounded outline-none outline-slate-400"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{children:"Branch Be"}),e.jsx("input",{placeholder:"Masukan Nama Branch Be",value:l.be,onChange:c=>p({...l,be:c.target.value}),className:"flex w-full p-2 rounded outline-none outline-slate-400"})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 mr-2 font-bold text-white bg-[#ee6e6e] rounded hover:bg-[#a53636]",children:"No"}),e.jsx("button",{onClick:()=>m(),className:"px-4 py-2 font-bold text-white bg-[#78b7f1] rounded hover:bg-[#178DF9]",children:"Yes"})]})]})})]})})},U="/assets/images/qILC5JLC-1714032889432.png",$="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.2%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23ffffff'%20d='M495.9%20166.6c3.2%208.7%20.5%2018.4-6.4%2024.6l-43.3%2039.4c1.1%208.3%201.7%2016.8%201.7%2025.4s-.6%2017.1-1.7%2025.4l43.3%2039.4c6.9%206.2%209.6%2015.9%206.4%2024.6c-4.4%2011.9-9.7%2023.3-15.8%2034.3l-4.7%208.1c-6.6%2011-14%2021.4-22.1%2031.2c-5.9%207.2-15.7%209.6-24.5%206.8l-55.7-17.7c-13.4%2010.3-28.2%2018.9-44%2025.4l-12.5%2057.1c-2%209.1-9%2016.3-18.2%2017.8c-13.8%202.3-28%203.5-42.5%203.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1%20425.9c-8.8%202.8-18.6%20.3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4%206.4-24.6l43.3-39.4C64.6%20273.1%2064%20264.6%2064%20256s.6-17.1%201.7-25.4L22.4%20191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9%209.7-23.3%2015.8-34.3l4.7-8.1c6.6-11%2014-21.4%2022.1-31.2c5.9-7.2%2015.7-9.6%2024.5-6.8l55.7%2017.7c13.4-10.3%2028.2-18.9%2044-25.4l12.5-57.1c2-9.1%209-16.3%2018.2-17.8C227.3%201.2%20241.5%200%20256%200s28.7%201.2%2042.5%203.5c9.2%201.5%2016.2%208.7%2018.2%2017.8l12.5%2057.1c15.8%206.5%2030.6%2015.1%2044%2025.4l55.7-17.7c8.8-2.8%2018.6-.3%2024.5%206.8c8.1%209.8%2015.5%2020.2%2022.1%2031.2l4.7%208.1c6.1%2011%2011.4%2022.4%2015.8%2034.3zM256%20336a80%2080%200%201%200%200-160%2080%2080%200%201%200%200%20160z'/%3e%3c/svg%3e",G="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20384%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.2%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23ffffff'%20d='M342.6%20150.6c12.5-12.5%2012.5-32.8%200-45.3s-32.8-12.5-45.3%200L192%20210.7%2086.6%20105.4c-12.5-12.5-32.8-12.5-45.3%200s-12.5%2032.8%200%2045.3L146.7%20256%2041.4%20361.4c-12.5%2012.5-12.5%2032.8%200%2045.3s32.8%2012.5%2045.3%200L192%20301.3%20297.4%20406.6c12.5%2012.5%2032.8%2012.5%2045.3%200s12.5-32.8%200-45.3L237.3%20256%20342.6%20150.6z'/%3e%3c/svg%3e",q="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20448%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.2%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23ffffff'%20d='M144%20144v48H304V144c0-44.2-35.8-80-80-80s-80%2035.8-80%2080zM80%20192V144C80%2064.5%20144.5%200%20224%200s144%2064.5%20144%20144v48h16c35.3%200%2064%2028.7%2064%2064V448c0%2035.3-28.7%2064-64%2064H64c-35.3%200-64-28.7-64-64V256c0-35.3%2028.7-64%2064-64H80z'/%3e%3c/svg%3e",V=()=>{d.useEffect(()=>{a()},[]);const s=v();d.useEffect(()=>{const o=B("isLogin");s(o?"/home":"/")},[s]);const[t,r]=d.useState([]),[u,n]=d.useState([]),a=async()=>{try{const o=await y.get(b+"/app");r(o.data.names),n(o.data.names)}catch(o){r([]),console.log(o)}},[l,p]=d.useState({title:"",isOpen:!1,is_branch_avail:!1}),m=o=>{p({title:o.name,isOpen:!0,is_branch_avail:o.is_branch_avail})},c=o=>{const w=new RegExp(`${o}`,"i");if(o==="")n(t);else{const I=t.filter(_=>w.test(_.name));n(I)}},[f,h]=d.useState(-1),i=o=>{h(o===f?-1:o)},g=o=>{const w=`?id=${o.name}`;s(`/log${w}`)},[S,F]=d.useState(!1),[N,A]=d.useState(!1),k=()=>{A(!N)};return e.jsxs("div",{className:"flex flex-col gap-2 p-4",children:[e.jsx("h1",{children:" List App "}),e.jsx("div",{className:"flex flex-col gap-2",children:e.jsx("input",{className:"outline-none w-full border-2 p-1 rounded-full px-4 border-gray-300  focus:border-[#178DF9]",placeholder:"Cari App",onChange:o=>c(o.target.value)})}),e.jsxs("div",{className:"fixed bottom-0 mb-4",onMouseEnter:()=>F(!0),children:[N&&e.jsx("a",{href:"https://encryptionsupport.netlify.app/",target:"_blank",onClick:k,className:"flex items-center outline-none p-3 mb-5 transition-all justify-center h-10 font-bold text-white bg-red-500 rounded-full shadow-lg mt-4",children:e.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[e.jsx("img",{src:q,className:"w-5 h-5"}),"Encryption Tools"]})}),e.jsx("button",{className:`flex items-center p-3 transition-all justify-center h-10 font-bold text-white bg-blue-500 rounded-full shadow-lg w-${S?"28":"10"} hover:bg-blue-700`,onClick:k,children:e.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[e.jsx("img",{src:N?G:$,className:"w-5 h-5"}),S&&e.jsx("p",{children:"Go"})]})})]}),e.jsx("div",{className:"flex flex-col gap-3 mt-4",children:u.map((o,w)=>e.jsxs("div",{children:[e.jsxs("div",{onClick:()=>i(w),className:"flex items-center justify-between w-full p-2 border-2 rounded cursor-pointer",children:[e.jsx("p",{children:o.name}),f===w?e.jsx("i",{className:"fa-solid fa-circle-chevron-down text-[#141E46]"}):e.jsx("i",{className:"fa-solid fa-circle-chevron-right text-[#141E46]"})]}),f===w&&e.jsxs("div",{className:"flex gap-2 p-2 border border-gray-200 rounded h-30",children:[e.jsxs("button",{onClick:()=>m(o),className:"bg-[#141E46] w-full rounded text-white",children:[" ","Update App"]}),e.jsxs("button",{onClick:()=>g(o),className:"bg-[#304cba] w-full rounded text-white",children:[" ","Git Log"," "]}),e.jsxs("a",{href:o.link_qc,target:"_blank",className:"bg-[#41B06E] w-full rounded flex justify-center text-white",children:[" ","Link Qc"," "]})]})]},w))}),l.isOpen&&e.jsx(z,{modal:l,setModal:o=>p(o)})]})},J=()=>{const[s,t]=d.useState({username:"",password:"",loading:!1}),r=v(),u=async()=>{if(!s.username)return x.error("Username is required"),!1;if(!s.password)return x.error("Password is required"),!1;try{t({...s,loading:!0}),await x.promise(n(s),{loading:"Checking...",success:e.jsx("b",{children:"Login Success!"}),error:e.jsx("b",{children:"Username and Password wrong."})}),t({...s,loading:!1}),r("/home"),H("isLogin",!0)}catch{t({...s,loading:!1})}},n=a=>new Promise((l,p)=>{setTimeout(()=>{a.username==="nsi"&&a.password==="developer"?l(!0):p(!1)},2e3)});return d.useEffect(()=>{const a=B("isLogin");r(a?"/home":"/")},[r]),e.jsx("div",{className:"flex items-center h-full p-5 align-middle",children:e.jsxs("div",{className:"flex flex-col w-full gap-2",children:[e.jsx("div",{className:"flex justify-center mb-5",children:e.jsx("img",{src:U,className:"w-52"})}),e.jsx("input",{value:s.username,className:"outline-none border-2 p-2  focus:border-[#178DF9]",placeholder:"Please Input Username",onChange:a=>t({...s,username:a.target.value})}),e.jsx("input",{value:s.password,type:"password",className:"outline-none border-2 p-2  focus:border-[#178DF9]",placeholder:"Please Input Password",onChange:a=>t({...s,password:a.target.value})}),e.jsxs("button",{onClick:()=>u(),className:"bg-[#178DF9] w-full rounded text-white p-2 outline-none",children:[" ",s.loading?e.jsxs("div",{children:[e.jsx("i",{className:"mr-2 fa-solid fa-spinner fa-spin"}),"Checking Data"]}):"Login"]})]})})},E=d.createContext(void 0),K=({children:s})=>{const[t,r]=d.useState(!1),[u,n]=d.useState(!1);return e.jsx(E.Provider,{value:{fullScreen:t,setFullScreen:r,isLoading:u,setIsLoading:n},children:s})},L=()=>{const s=d.useContext(E);if(!s)throw new Error("useActiveChat must be used within a HookProvider");return s},Y=()=>{const s=new URLSearchParams(location.search),t=s.get("id")||"",r=s.get("namaBranchFe")||"",u=s.get("namaBranchBe")||"",n=v(),{fullScreen:a,isLoading:l,setFullScreen:p,setIsLoading:m}=L();return d.useEffect(()=>{const c=[],f=C(b.replace("/api/v1",""));return f.connect(),f.on("connect",()=>{f.emit("join-room",t),f.on("update-progress",h=>{const i=document.getElementById("logConsole");i&&(h.status==="PROGRESS"?(c.push(h.message),i.value=c.join(`
`),i.scrollTop=i.scrollHeight+400,m(!0)):h.status==="FINISH"&&(m(!1),x.success("Update Finish"),c.push(`
`),c.push("Update Finish"),c.push(`
`),i.value=c.join(`
`),i.scrollTop=i.scrollHeight+400))})}),setTimeout(async()=>{var h,i;try{await y.post(b+"/app/update",{name:t,branchBe:u||void 0,branchFe:r||void 0})}catch(g){(h=g.response.data.message)!=null&&h.includes("processed")?(x("Sedang dalam proses update, silahkan tunggu!",{icon:"ðŸ§˜ðŸ¾"}),m(!0)):(i=g.response.data.message)!=null&&i.includes("processed")?(x("Sedang dalam proses update, silahkan tunggu!",{icon:"ðŸ§˜ðŸ¾"}),m(!0)):(x.error(g.response.data.message),m(!1))}},300),()=>{f.disconnect()}},[t,u,r,m]),e.jsxs("div",{className:"w-full h-full overflow-hidden border border-gray-700 rounded-lg terminal-container",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 terminal-header",children:[e.jsx("div",{className:"flex items-center space-x-2",onClick:()=>{n("/home"),p(!1)},children:e.jsx("i",{className:"text-white cursor-pointer fa-solid fa-chevron-left"})}),e.jsxs("div",{className:"justify-center text-sm text-white",children:["Terminal App ",t," ",l&&e.jsx("i",{className:"absolute ml-2 text-white fa-solid fa-spinner fa-spin"})]}),e.jsx("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>p(!a),children:e.jsx("i",{className:"text-white fa-solid fa-maximize"})})]}),e.jsx("div",{className:"terminal-body",children:e.jsx("div",{className:"terminal-line",children:e.jsx("textarea",{readOnly:!0,id:"logConsole",className:"w-full h-screen p-2 overflow-y-auto text-white bg-black resize-none terminal-input focus:outline-none"})})})]})},Q=()=>{const s=new URLSearchParams(location.search),t=s.get("id")||"",r=s.get("namaBranchFe")||"",u=s.get("namaBranchBe")||"",n=v(),{fullScreen:a,isLoading:l,setFullScreen:p,setIsLoading:m}=L();return d.useEffect(()=>{const c=[],f=C(b.replace("/api/v1",""));return f.connect(),f.on("connect",()=>{f.emit("join-room",t),f.on("git-log",h=>{const i=document.getElementById("logGit");i&&(h.status==="PROGRESS"?(c.push(h.message),i.value=c.join(`
`),i.scrollTop=0,m(!0)):h.status==="FINISH"&&(m(!1),c.push(`
`),c.push(`
`),i.value=c.join(`
`),i.scrollTop=0))})}),setTimeout(async()=>{var h,i;try{await y.post(b+"/app/git-log",{name:t})}catch(g){(h=g.response.data.message)!=null&&h.includes("processed")?(x("Sedang dalam proses update, silahkan tunggu!",{icon:"ðŸ§˜ðŸ¾"}),m(!0)):(i=g.response.data.message)!=null&&i.includes("processed")?(x("Sedang dalam proses update, silahkan tunggu!",{icon:"ðŸ§˜ðŸ¾"}),m(!0)):(x.error(g.response.data.message),m(!1))}},300),()=>{f.disconnect()}},[t,u,r,m]),e.jsxs("div",{className:"w-full h-full overflow-hidden border border-gray-700 rounded-lg terminal-container",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 terminal-header",children:[e.jsx("div",{className:"flex items-center space-x-2",onClick:()=>n("/home"),children:e.jsx("i",{className:"text-white cursor-pointer fa-solid fa-chevron-left"})}),e.jsxs("div",{className:"justify-center text-sm text-white",children:["Git Log App ",t," ",l&&e.jsx("i",{className:"absolute ml-2 text-white fa-solid fa-spinner fa-spin"})]}),e.jsx("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>p(!a),children:e.jsx("i",{className:"text-white fa-solid fa-maximize"})})]}),e.jsx("div",{className:"terminal-body",children:e.jsx("div",{className:"terminal-line",children:e.jsx("textarea",{readOnly:!0,id:"logGit",className:"w-full h-screen p-2 overflow-y-auto text-white bg-black resize-none terminal-input focus:outline-none"})})})]})},W=()=>{const{fullScreen:s}=L(),[t,r]=d.useState(Date.now());d.useEffect(()=>{const n=setTimeout(()=>{Date.now()-t>12e5&&localStorage.clear()},1e3),a=()=>{r(Date.now())};return window.addEventListener("mousemove",a),window.addEventListener("keydown",a),()=>{clearTimeout(n),window.removeEventListener("mousemove",a),window.removeEventListener("keydown",a)}},[t]);const u=v();return e.jsxs("div",{className:"flex justify-center",children:[e.jsx("div",{className:`${s?"w-full":"xxl:w-[25rem] w-full overflow-y-auto no-scrollbar h-screen rounded-md shadow-md md:w-[60%] lg:w-1/3 xl:w-[30%]"} `,children:e.jsxs(O,{children:[e.jsx(j,{index:!0,element:e.jsx(J,{})}),e.jsx(j,{path:"home",element:e.jsx(V,{})}),e.jsx(j,{path:"detail",element:e.jsx(Y,{})}),e.jsx(j,{path:"log",element:e.jsx(Q,{})}),e.jsx(j,{path:"*",element:e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen gap-2",children:["Halaman Tidak Di Teumakan ",e.jsx("br",{}),e.jsxs("button",{onClick:()=>u("/home"),className:"bg-[#41B06E] p-1 rounded text-white text-[10px]",children:[" ","Kembali"," "]})]})})]})}),e.jsx(P,{position:"bottom-center",reverseOrder:!1})]})};D.createRoot(document.getElementById("root")).render(e.jsx(R,{children:e.jsx(K,{children:e.jsx(W,{})})}));
